<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Cyclicity analysis</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
						<section> <h2>Automated Objective Method for Assessing Tinnitus Condition </h2>
							<p> (using fMRI data) </p>
								<p style="font-size: 0.6em">Slides best viewed using Chrome browser. Use &darr;|&uarr;|&rarr;|&larr; to navigate. First go  &darr; all the way, then go &rarr;.</p>
						</section>
						<section> <h3>Background Information</h3>
						</section>
						<section>
							<div style="float:left; width: 60%">
								<p>	Functional magnetic resonance imaging is <em>expensive.</em></p>
								<p class="fragment">A typical machine: $1-3m!</p>
								<p class="fragment">A single scan: $0.5-3k!</p>
							</div>
							<img align="right" style="border:none; float:right; box-shadow: none;" width="40%" data-src="images/fmri2-crop.jpg"/>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 50%">
							<p>fMRI usually generates multi-dimensional data</p>
							<p class="fragment">Example: fMRI signals from each region of interest in the brain</p></div>
							<img align="right" style="border:none; box-shadow: none; width:50%" data-src="images/example-fmri.svg"/>
							</div>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 50%">
							<p>How to automatically extract meaningful information?</p>
							<p class="fragment">How can we apply machine learning technqiues?</p></div>
							<img align="right" style="border:none; box-shadow: none; width:50%" data-src="images/example-fmri.svg"/>
							</div>
						</section>
						<section><p>Relatively few approaches amenable to machine learning because:</p>
							<ul class="fragment">
								<li>Expensive to generate data</li>
								<li>Machine learning <em>needs</em> massive amounts of data</li>
							</ul>
						</br></br>
							<p class="fragment">&rarr; Need meaningful dimension reduction methods</p>
						</section>
						<section>
							<h2>Cyclicity analysis</h2>
							<p>	A method to recover <em>ordering</em> and <em>grouping</em> from a set of observed waveforms</p>
						</section>
						<section><p>We <a href="https://www.mitpressjournals.org/doi/abs/10.1162/NETN_a_00053">applied</a> the <em>cyclicity <a href="https://ieeexplore.ieee.org/document/7798498/">method</a></em> to fMRI data from tinnitus patients</p>
							<p class="fragment">We found that the method can consistently 'fingerprint' a subject</p>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"><p>Scans were made in 2 sessions 1 week apart on 47 subjects</p>
							<p class="fragment">Each subject was scanned twice in a session</p></div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"><p>Scans could be identified as belonging to the same subject using lead matrices from cyclicity analysis!</p></div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
							<p class="fragment fade-up" style="font-size: 0.5em"><em>Lead matrix</em> is a feature generated by cyclicity method</p>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"><p>On the grid on the right, each row and corresponding column is assigned to a subject.</p></div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"><p>Everytime a subject in a row is identified with the subject in a column, that square gets a 1.</p>
							</div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"><p>Because there were only four scans for each subject, the maximum possible value of a square is 4.</p>
							</div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
						</section>
						<section data-transition="none">
							<div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
							<div style="width: 45%"> <p>We used a nearest neighbour classifier for identification.</p>
								<p class="fragment">A matrix with a completely yellow diagonal would be <em>perfect!</em></p>
							</div>
							<img align="right" style="border:none; box-shadow: none; width: 50%"  data-src="images/stability.svg"/>
							</div>
						</section>
						<section>
							<p>We could also characterize differences in temporal activation patterns between pairs of brain regions in the control group vs. tinnitus group</p>
							<p class="fragment">This can be visualized using a <em>layered</em> graph</p>
						</section>
						<section data-transition="None">
							<img style="border:none; box-shadow: none;" data-src="images/graphs1.svg"/>
						<p><br style="line-height: 35%" /></p>
						</section>
						<section data-transition="None">
							<img style="border:none; box-shadow: none;" data-src="images/graphs2.svg"/>
							<p style="font-size: 0.6em">Each node corresponds to a brain region. Brain activity in nodes of the upper layers precedes activity in nodes of the lower layers.</p>
						</section>
						<section data-transition="None">
							<img style="border:none; box-shadow: none;" data-src="images/graphs3.svg"/>
							<p style="font-size: 0.6em">Here, thicker lines correspond to more consistent directional relationship across subjects. A very thin line means that the direction of flow of activity is just as likely to be the opposite.</p>
						</section>
						<section data-transition="None">
						<img style="border:none; box-shadow: none;" data-src="images/graphs1.svg"/>
						<p style="font-size: 0.6em">Left panel is for tinnitus group and the right for the controls. Behaviour of the amygdala is conspicously different in the tinnitus population - replicating findings from other studies.</p>
					</section>
						<section>
							<p>How does it work?</p>
						</section>
						</section>
						<section data-transition="convex">
							<section>
								<h3>Big picture:</h3>
								<p>Cyclicity analysis aims to recover <em>ordering</em> and <em>grouping</em> from a collection of observed waveforms</p>
							</br>
								<p class="fragment">What does that mean?</p>
								</section>
						<section>
							<h3>Ordering</h3>
							<p>Say we recorded some waveforms, each of which was delayed from others in phase; a <em>chain of offsets</em>.</p>
						</section>
						<section>
							<img style="border:none; box-shadow: none;" data-src="images/coom.svg" alt="Chain of offsets model">
						</section>
						<section>
							<h3>Ordering</h3>
							<ul class="fragment">
								<li>Can we say which wave or signal preceded another? </li>
								<ul> <li>For example 5 came before 6, which came before 7 and so on.	</li>
								</ul>
							</ul>
							<p><h3 class="fragment">Grouping</h3>
								<ul class="fragment">
								<li>Can we recover the existence of <em>groups</em>?</li>
								<ul><li>There was a black group and a red group.</li></ul>
								</ul>
							</p>
						</section>
				<section>Of course we can: simply by observation
				<p class="fragment">Can we still do it if the number of waveforms is very large?</p>
				<p class="fragment">Can we still do it if the waveforms are noisy?</p>
				</section>
				<section>
					<img style="border:none; box-shadow: none;" data-src="images/noisy.svg" alt="Noisy traces">
				</section>
				<section>
					<p>No one wants to inspect <em>that</em> manually ...
					</p> <p class="fragment">
						... can we automate this recovery?
					</p>
				</br>
				<p class="fragment fade-up"><strong>Yes: </strong>Cyclicity analysis allows us to automatically recover this information from large data sets.</p>
				</section>
			 </section>
			 </section>
			 <section data-transition="convex">
				 <section>
					<h3>Key idea: What is 'cyclic'?</h3>
				  <p class="fragment"> <strong>Remark: </strong>The following is slightly technical. You can <a href="#examples">skip ahead</a> if you prefer to see examples.</p>
				 </section>
			 <section>
				<h3>Key idea: What is 'cyclic'?</h3>
				<p>Recall, a periodic signal $f(t)$ repeats itself with a <em>consistent</em> period $P$. </p>
					\[ f \left( t + P \right) = f \left( t \right) \]
				<p class="fragment">A cyclic signal repeats itself <em>inconsistently</em>, i.e. $P$ can vary.
				</p>
			 </section>
			 <section>
				<h3>Cyclic signal</h3>
				<p> <em>Cyclic signals</em> generalize periodic signals. </p>
				<p class="fragment">More precisely, $g(t)$ is cyclic if a monotonically increasing bounded function $\phi(t)$ can be found so that $g \left( \phi (t) \right)$ is periodic.</p>
				<p class="fragment">All periodic signals are cyclic; converse is not true.
			 </section>
				<section>
					<h3>Information recovery</h3>
					<p>Consider two waveforms with the same starting and ending points that are shifted a little in time. </p>
				</section>
				<section data-transition="fade">
					<img style="border:none; box-shadow: none;" data-src="images/shiftpulse.svg" alt="Two wave forms">
				</section>
				<section data-transition="fade">
					<p>In the figure clearly the wave $Y$ preceded the wave $X$. </p>
					<p class="fragment">Plotted against each other they enclose an area; in-fact a <em>signed area</em>.</p>
				</section>
				<section data-transition="fade">
					<img style="border:none; box-shadow: none;" data-src="images/xvsy.svg" alt="Area enclosed by waveforms">
				</section>
				<section>
					<p> The area is <em>signed</em> because it can be positive or negative. </p>
					<p class="fragment">The sign depends on how the closed loop is traversed as the area is calculated.</p>
					<p class="fragment">By convention, we assume clockwise traversal; and if the area is positive, $Y$ follows $X$.</p>
				</section>
				<section>
					<p> Given $n$ waveforms, cyclicity method analyzes <em>all</em> $n \choose 2$ possible areas <em>at once</em> to recover ordering and grouping.</p>
				</section>
			 </section>
			 <section id="examples" data-transition="convex">
			 <section data-transition="none">
				<h2>Example 1</h2>
				<p> Periodic signals </p>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none;box-shadow: none; width: 65%;" data-src="images/pure-sinusoids.svg" alt="Just sinusoids">
				 <div style="width: 35%">
					 <p>Consider 12 sinusoids with phase offsets $v_k$ chosen at random.</p>
					 <p>CTRL/ALT + Click to zoom!	</p>
				 </div>
				 </div>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/pure-sinusoids.svg" alt="Just sinusoids">
				 <div style="width: 35%">
					 <p>They have been grouped into sets (red, blue, etc.) and numbered according to first appearence</p>
				 </div>
				 </div>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/pure-sinusoids.svg" alt="Just sinusoids">
				 <div style="width: 35%">
					 <p>Note that two of the signals also have different magnitudes compared to the rest of the waves</p>
				 </div>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/pure-sinusoids.svg" alt="Just sinusoids">
				 <div style="width: 35%">
					 <p>Cyclicity analyzes 66 signed areas to approximately determine $v_k$ which are complex: $v_k= a_k + i b_k$</p>
				 </div></div>
			 </section>
			 <section data-transition="fade">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 55%;" data-src="images/recovered-offsets.svg" alt="Recovered offsets">
				 <div style="width: 45%">
					 <br>
					 <p>We plot $v_k$ on the complex plane.</p>
					 <p>The ordering and grouping is recovered as well as relative magnitude.</p>
				 </div></div>
			 </section>
			 </section>

			 <section data-transition="convex">
			 <section data-transition="none">
				<h2>Example 2</h2>
				<p>Non-periodic signals</p>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/coom.svg" alt="COOM model">
				 <div style="width: 35%">
					<p>The signals need not be periodic ...</p>
					<p class="fragment">... they only have to be cyclic and exhibit the <em>chain of offsets</em> property.</p>
				 </div></div>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/coom.svg" alt="COOM model">
				 <div style="width: 35%">
					<p> The information is recoverable if a certain matrix associated with the areas is "nearly rank 2".</p>
				 </div></div>
			 </section>
			 <section data-transition="fade">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 55%;" data-src="images/coom-order.svg" alt="Recovered offsets for COOM">
				 <div style="width: 45%">
					 <p>Ordering is preserved and we can still capture that signals 5-6 and signals 2-3 are close together.</p>
				 </div></div>
			 </section>
			 <section data-transition="fade">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 55%;" data-src="images/coom-order.svg" alt="Recovered offsets for COOM">
				 <div style="width: 45%">
					 <p>Grouping is now approximate. For example 8 is now closer to 1 than it is to 7. </p>
				 </div></div>
			 </section>
			 </section>
			 <section data-transition="convex">
			 <section data-transition="none">
				<h2>Example 3</h2>
				<p>Noisy signals</p>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/ten-noisy.svg" alt="COOM model">
				 <div style="width: 35%">
					<p> The signals can be noisy...</p>
					<p class="fragment">	 ... say with a stationary noise distribution.</p>
				 </div></div>
			 </section>
			 <section data-transition="none">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 65%;" data-src="images/ten-noisy.svg" alt="COOM model">
				 <div style="width: 35%">
					<p>Here SNR=20 and noise is additive white gaussian.</p>
					<p class="fragment">The offsets are uniformly spaced befween 0 and $\pi$.</p>
				 </div></div>
			 </section>
			 <section data-transition="fade">
				 <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-evenly;">
				 <img style="border:none; box-shadow: none; width: 55%;" data-src="images/offset-noisy.svg" alt="Recovered offsets for COOM">
				 <div style="width: 45%">
					 <br>
					 <p>The ordering is still recoverable!</p>
					 <p>Angles measured from the horizontal axis to each point are within $ \left[ -k\pi, k \pi \right]$ for some $k \in \left[0,1 \right]$.</p>
				 </div></div>
			 </section>
			 </section>
			 <section data-transition="convex">
				 <section>
					 <h3>Take away:</h3>
					 <p>Cyclicity analysis is an <em>interpretable</em> feature generation method. It can be useful when one wants to automatically investigate temporal patterns.</p>
					</section>
			 <section>
				 <p>On-going work using features generated by cyclicity method shows promise in using supervised machine learning to differentiate tinnitus subjects from controls.</p>
				 <p class="fragment">Try demo available <a href='http://cycapp.herokuapp.com/'>here.</a> More features coming!</p>
			 </section>
			 
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies

			Reveal.initialize({
							history: true,
							transition: 'linear',
							math: {
								// mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
								config: 'TeX-AMS_HTML-full'
							},
							dependencies: [
								{ src: 'lib/js/classList.js' },
								{ src: 'plugin/zoom-js/zoom.js', async: true },
								{ src: 'plugin/math/math.js', async: true }
							]
						});

		</script>
	</body>
</html>
